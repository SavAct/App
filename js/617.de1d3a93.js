"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[617],{51617:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(61758),o=n(58790),l=n(29104);const i={class:"text-h3 q-ma-lg"},u={class:"q-mb-md"},r={class:"q-my-md"},s={class:"q-mt-sm justify-end row"},c={class:"q-mb-md"},d={class:"q-my-sm"};function m(e,t,n,m,p,v){const b=(0,a.g2)("q-btn"),h=(0,a.g2)("q-icon"),y=(0,a.g2)("q-input"),f=(0,a.g2)("new-keypair-dialog"),g=(0,a.g2)("q-stepper-navigation"),k=(0,a.g2)("q-step"),w=(0,a.g2)("q-spinner"),C=(0,a.g2)("q-stepper"),W=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(W,{class:"column",style:{height:"100%"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[t[8]||(t[8]=(0,a.eW)("This account creation is not functional yet. ")),t[9]||(t[9]=(0,a.Lk)("br",null,null,-1)),t[10]||(t[10]=(0,a.eW)("Goto this page instead: ")),(0,a.bF)(b,{to:{name:"create-account"},label:"Create an account with Wombat","no-caps":"",outline:""})]),(0,a.bF)(C,{modelValue:e.step,"onUpdate:modelValue":t[7]||(t[7]=t=>e.step=t),vertical:"",color:"primary",animated:""},{default:(0,a.k6)((()=>[(0,a.bF)(k,{name:1,title:e.t("accountData"),icon:"settings",done:e.step>1},{default:(0,a.k6)((()=>{var n;return[(0,a.Lk)("div",u,[(0,a.eW)((0,o.v_)(e.t("chooseAccountName"))+" ",1),(0,a.bF)(b,{class:"col-auto q-ml-sm q-px-sm",dense:"",label:`${null===(n=e.chain)||void 0===n?void 0:n.name} ${e.t("network")}`,onClick:e.showWalletDialog,outline:""},null,8,["label","onClick"])]),((0,a.uX)(),(0,a.Wv)(y,{key:e.compConnectChainId,ref:"inputRef",outlined:"",rules:[e.ruleName],modelValue:e.user,"onUpdate:modelValue":t[0]||(t[0]=t=>e.user=t),"bottom-slots":"",label:e.t("wishedAccountName"),dense:"",borderless:"","hide-bottom-space":"",maxlength:"12"},{before:(0,a.k6)((()=>[(0,a.bF)(h,{name:"account_circle"})])),_:1},8,["rules","modelValue","label"])),(0,a.Lk)("div",r,(0,o.v_)(e.t("enterPubKey")),1),((0,a.uX)(),(0,a.Wv)(y,{key:e.compConnectChainId,ref:"inputRef",outlined:"",rules:[e.ruleKey],modelValue:e.pubKey,"onUpdate:modelValue":t[1]||(t[1]=t=>e.pubKey=t),"bottom-slots":"",label:e.t("yourPubKey"),dense:"",borderless:"","hide-bottom-space":""},{before:(0,a.k6)((()=>[(0,a.bF)(h,{name:"account_circle"})])),_:1},8,["rules","modelValue","label"])),(0,a.Lk)("div",s,[(0,a.bF)(b,{outline:"",onClick:t[2]||(t[2]=t=>e.showKeyPairDialog=!0),label:e.t("createKeyPairBtn"),size:"sm"},null,8,["label"])]),(0,a.bF)(f,{modelValue:e.showKeyPairDialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.showKeyPairDialog=t),onPubkey:e.newPubKey},null,8,["modelValue","onPubkey"]),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{onClick:e.checkStep1,color:"primary",label:"Continue"},null,8,["onClick"])])),_:1})]})),_:1},8,["title","done"]),(0,a.bF)(k,{name:2,title:"Zahlung tätigen",icon:"create_new_folder",done:e.step>2},{default:(0,a.k6)((()=>[(0,a.Lk)("div",c,[(0,a.Lk)("div",d,[t[12]||(t[12]=(0,a.eW)(" Please send ")),(0,a.bo)((0,a.Lk)("span",null,[(0,a.bF)(w),t[11]||(t[11]=(0,a.eW)(" "))],512),[[l.aG,e.loadingAmount]]),(0,a.eW)((0,o.v_)(e.recQuantity)+" or more ",1)]),t[13]||(t[13]=(0,a.eW)(" to be prepared if the network fee changes in the meantime. ")),t[14]||(t[14]=(0,a.Lk)("div",{class:"q-mt-sm"},"Any amount beyond the network fee will be automatically credited to your account!",-1))]),(0,a.bF)(b,{onClick:e.getRAMCosts,icon:"update",round:"",class:"q-mr-md"},null,8,["onClick"]),(0,a.bF)(b,{to:{name:"send",query:{to:e.acc_create_contract,pay:e.recQuantity,memo:e.memo}},label:"Send payment",outline:""},null,8,["to"]),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{onClick:t[4]||(t[4]=t=>e.step=3),color:"primary",label:"Continue"}),(0,a.bF)(b,{flat:"",onClick:t[5]||(t[5]=t=>e.step=1),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1},8,["done"]),(0,a.bF)(k,{name:3,title:"Wallet verbinden",icon:"add_comment"},{default:(0,a.k6)((()=>[t[15]||(t[15]=(0,a.eW)(" Try out different ad text to see what brings in the most customers, and learn how to enhance your ads using features like ad extensions. If you run into any problems with your ads, find out how to tell if they're running and how to resolve approval issues. ")),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{color:"primary",label:"Finish"}),(0,a.bF)(b,{flat:"",onClick:t[6]||(t[6]=t=>e.step=2),color:"primary",label:"Back",class:"q-ml-sm"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var p=n(94011),v=n(20989),b=n(70308),h=n(39507),y=n(38734),f=n(57387),g=n(48960),k=n(72561),w=function(e,t,n,a){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,l){function i(e){try{r(a.next(e))}catch(t){l(t)}}function u(e){try{r(a["throw"](e))}catch(t){l(t)}}function r(e){e.done?n(e.value):o(e.value).then(i,u)}r((a=a.apply(e,t||[])).next())}))};const C=(0,a.pM)({name:"page-create-acc",components:{NewKeypairDialog:p["default"]},setup(){const e=(0,f.s9)({useScope:"global"}).t.bind(this),t=(0,h.V)(),n=(0,a.EW)((()=>t.getWalletStyle)),o=(0,y.KR)(1),l=(0,y.KR)(""),i=(0,y.KR)(""),u=(0,y.KR)(!1),r=(0,y.KR)(!1),s=(0,y.KR)(null),c=(0,y.KR)(""),d=(0,y.KR)("savactcreate"),m=(0,a.EW)((()=>{if(W.value){const e=(0,b.StringToAsset)(W.value);if(e)return e.amount+=e.amount,(0,b.AssetToString)(e)}return""}));function p(){return w(this,void 0,void 0,(function*(){l.value=l.value.toLowerCase(),l.value=l.value.replace(/\s/g,"");const e=yield V(l.value);if(!0!==e){const t="string"!==typeof e?"Could not verify the name":e;return void v.A.create({type:"negative",message:t,position:"top"})}i.value=i.value.trim();const t=S(i.value);if(!0===t)o.value=2,C();else{const e=!1===t?"Could not verify the public key":t;v.A.create({type:"negative",message:e,position:"top"})}}))}function C(){return w(this,void 0,void 0,(function*(){if(!u.value){u.value=!0;const e=yield q.value.GetRAMCosts(BigInt(4e3));W.value="string"==typeof e?e:"",u.value=!1}}))}const W=(0,y.KR)(""),K=(0,a.EW)((()=>`${i.value}-${l.value}`)),_=(0,a.EW)((()=>!0)),A=(0,a.EW)((()=>{var e;return null===(e=t.selectedConnect)||void 0===e?void 0:e.chainParams})),q=(0,a.EW)((()=>t.selectedConnect)),F=(0,a.EW)((()=>{var e;return null===(e=A.value)||void 0===e?void 0:e.chainId}));(0,a.wB)(F,(()=>{s.value&&s.value.validate()}));let P=0;function V(e,t=!1){var n;return w(this,void 0,void 0,(function*(){if(t){P++;let e=P;if(yield(0,k.sleep)(1e3),e!=P)return}if(12!=e.length)return"The account has to be 12 characters long";if(!(0,b.isNameValid)(e))return"0123456789".indexOf(e[0])>=0?"The name is not allowed to start with a number":"The entered name contains forbidden chars. Use only a-z and 0-5";if(!e.indexOf("."))return"You cannot create an account with an dot";const a=yield null===(n=q.value)||void 0===n?void 0:n.checkAccountName(e);return!1===a||(!0===a?"Account already exists":"Error while checking the account name on the network")}))}function S(t){let n=!1;if(t.length<=58){if(!t.startsWith("EOS")&&!t.startsWith("PUB_K1_"))return e("pupStartsWith");if(!g.E.isValidPublic(t))return e("invalidPub");n=!0}return n}const R=e=>new Promise((t=>{t(S(e))})),L=e=>new Promise((t=>w(this,void 0,void 0,(function*(){e=e.toLowerCase(),e=e.replace(/\s/g,"");const n=yield V(e,!0);t(void 0===n||n)}))));function Q(e){i.value=String(e)}return{t:e,step:o,chain:A,user:l,pubKey:i,ruleName:L,newPubKey:Q,showKeyPairDialog:r,compConnectChainId:F,pay_method:c,acc_create_contract:d,inputsValid:_,memo:K,quantity:W,walletStyle:n,showWalletDialog:t.showWalletDialog,checkStep1:p,ruleKey:R,getRAMCosts:C,recQuantity:m,loadingAmount:u}}});var W=n(12807),K=n(77716),_=n(56384),A=n(37222),q=n(78577),F=n(67837),P=n(50492),V=n(84776),S=n(58210),R=n(98582),L=n.n(R);const Q=(0,W.A)(C,[["render",m]]),x=Q;L()(C,"components",{QPage:K.A,QBtn:_.A,QStepper:A.A,QStep:q.A,QInput:F.A,QIcon:P.A,QStepperNavigation:V.A,QSpinner:S.A})}}]);