"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[185],{4185:(e,l,t)=>{t.r(l),t.d(l,{default:()=>L});var o=t(61758),n=t(58790),a=t(29104);const s={class:"q-ma-md"},i={class:"row"},c={class:"row justify-around"},u={class:"row justify-evenly"},d={class:"col-10 row"},r={class:"col-1"},p={class:"q-mt-md"},g={class:"row"};function b(e,l,t,b,m,v){const h=(0,o.g2)("q-toggle"),f=(0,o.g2)("q-btn"),_=(0,o.g2)("q-item-label"),k=(0,o.g2)("q-item-section"),y=(0,o.g2)("q-icon"),C=(0,o.g2)("q-item"),w=(0,o.g2)("q-list"),A=(0,o.g2)("q-select"),P=(0,o.g2)("q-input"),F=(0,o.g2)("q-card-section"),q=(0,o.g2)("q-card"),R=(0,o.g2)("q-expansion-item"),E=(0,o.gN)("ripple");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",i,[(0,o.bF)(h,{class:"col",modelValue:e.showTestNet,"onUpdate:modelValue":l[0]||(l[0]=l=>e.showTestNet=l),label:e.t("showTestChains")},null,8,["modelValue","label"]),(0,o.bF)(f,{icon:"settings",round:"",to:{name:"page-advanced-eosio"}})]),(0,o.Lk)("div",c,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.allConnects,((t,s)=>(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",{key:s,class:"col-12 col-md-5 q-ma-md"},[(0,o.bF)(w,null,{default:(0,o.k6)((()=>[(0,o.bo)(((0,o.uX)(),(0,o.Wv)(C,{class:"bg-blue-grey-6 text-white"},{default:(0,o.k6)((()=>[(0,o.bF)(k,null,{default:(0,o.k6)((()=>[(0,o.bF)(_,{class:"text-weight-bold"},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(t.chainParams.name),1)])),_:2},1024),(0,o.bF)(_,{class:"text-white",caption:"",lines:"2"},{default:(0,o.k6)((()=>[l[8]||(l[8]=(0,o.eW)("Connected amount of endpoints:")),l[9]||(l[9]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)((0,n.v_)(t.getRamEPs.length)+" RAM, "+(0,n.v_)(t.getBlockEPs.length)+" Blocks, "+(0,n.v_)(t.getRpcEPs.length)+" API ",1)])),_:2},1024)])),_:2},1024),(0,o.bF)(k,{side:""},{default:(0,o.k6)((()=>[(0,o.bF)(y,{name:"wifi",color:e.ChainColor(s)},null,8,["color"])])),_:2},1024)])),_:2},1024)),[[E]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.chainParams.rpcEndpoints,((l,a)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(C,{key:a,class:(0,n.C4)(["text-white",void 0==l.available?"bg-grey-10":l.available?"bg-blue-grey-4":"bg-red-5"]),clickable:"",onClick:o=>e.toggleAvailable(t,l)},{default:(0,o.k6)((()=>[(0,o.bF)(k,null,{default:(0,o.k6)((()=>[(0,o.bF)(_,{caption:"",lines:"2",class:"text-white break-word"},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(l.protocol)+"://"+(0,n.v_)(l.host)+":"+(0,n.v_)(l.port),1)])),_:2},1024)])),_:2},1024),(0,o.bF)(k,{side:"",top:"",class:"text-white"},{default:(0,o.k6)((()=>[(0,o.bF)(y,{name:"sensors",style:(0,n.Tr)(`color:${e.pingColor(l.pingInfo)}`)},null,8,["style"]),(0,o.eW)(" "+(0,n.v_)(l.pingInfo),1)])),_:2},1024),(0,o.bF)(k,{side:"",top:"",class:"text-white"},{default:(0,o.k6)((()=>[(0,o.bF)(y,{name:"memory",style:(0,n.Tr)(`color:${e.pingColor(l.pingRAM)}`)},null,8,["style"]),(0,o.eW)(" "+(0,n.v_)(l.pingRAM),1)])),_:2},1024),(0,o.bF)(k,{side:"",top:"",class:"text-white"},{default:(0,o.k6)((()=>[(0,o.bF)(y,{name:"grid_view",style:(0,n.Tr)(`color:${e.pingColor(l.pingBlock)}`)},null,8,["style"]),(0,o.eW)(" "+(0,n.v_)(l.pingBlock),1)])),_:2},1024),(0,o.bF)(k,{side:"",top:"",class:"text-white"},{default:(0,o.k6)((()=>[(0,o.bF)(y,{name:"api",style:(0,n.Tr)(`color:${e.pingColor(l.pingApi)}`)},null,8,["style"]),(0,o.eW)(" "+(0,n.v_)(l.pingApi),1)])),_:2},1024)])),_:2},1032,["class","onClick"])),[[E]]))),128))])),_:2},1024)])),[[a.aG,e.showTestNet||!t.chainParams.testNet]]))),128))]),(0,o.Lk)("div",u,[(0,o.Lk)("div",d,[(0,o.bF)(A,{class:"col-12 col-sm-2",label:"Protocol",outlined:"",dense:"",modelValue:e.customProtocol,"onUpdate:modelValue":l[1]||(l[1]=l=>e.customProtocol=l),options:["http","https"],"options-dense":""},null,8,["modelValue"]),(0,o.bF)(P,{class:"col-grow",label:"Host",outlined:"",dense:"",modelValue:e.customHost,"onUpdate:modelValue":l[2]||(l[2]=l=>e.customHost=l)},null,8,["modelValue"]),(0,o.bF)(P,{class:"col-12 col-sm-2",type:"number",label:"Port",outlined:"",dense:"",modelValue:e.customPort,"onUpdate:modelValue":l[3]||(l[3]=l=>e.customPort=l)},null,8,["modelValue"]),(0,o.bF)(A,{class:"col-12",label:"Chain",outlined:"",dense:"",modelValue:e.selectedChain,"onUpdate:modelValue":l[4]||(l[4]=l=>e.selectedChain=l),options:e.chainIdsWithNameForOptions,"options-dense":""},null,8,["modelValue","options"])]),(0,o.Lk)("div",r,[(0,o.bF)(f,{class:"navi-btn full-height",outlined:"",icon:"add",dense:e.$q.screen.lt.sm,onClick:e.addEndpoint},null,8,["dense","onClick"])])]),(0,o.Lk)("div",p,[(0,o.bF)(R,{"expand-separator":"",label:"Test functions","expand-icon":"code",class:"q-mb-xs"},{default:(0,o.k6)((()=>[(0,o.bF)(q,null,{default:(0,o.k6)((()=>[(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",g,[(0,o.bF)(P,{class:"col-4",outlined:"",dense:"",modelValue:e.requestChain,"onUpdate:modelValue":l[5]||(l[5]=l=>e.requestChain=l),label:"Chain",maxlength:"255"},null,8,["modelValue"]),(0,o.bF)(A,{standout:"",modelValue:e.requestType,"onUpdate:modelValue":l[6]||(l[6]=l=>e.requestType=l),options:e.typeOptions,class:"col-4",outlined:"",dense:"",label:"Type",maxlength:"255"},null,8,["modelValue","options"]),(0,o.bF)(P,{class:"col-4",outlined:"",dense:"",modelValue:e.requestData,"onUpdate:modelValue":l[7]||(l[7]=l=>e.requestData=l),label:"Data",onKeydown:(0,a.jR)((0,a.D$)(e.sendRequest,["prevent"]),["enter"])},{after:(0,o.k6)((()=>[(0,o.bF)(f,{round:"",dense:"",flat:"",icon:"send",size:"lg",onClick:e.sendRequest,class:"send-btn"},null,8,["onClick"])])),_:1},8,["modelValue","onKeydown"])])])),_:1})])),_:1})])),_:1})])])}var m=t(38734),v=t(57387),h=t(39507),f=t(87881),_=function(e,l,t,o){function n(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,a){function s(e){try{c(o.next(e))}catch(l){a(l)}}function i(e){try{c(o["throw"](e))}catch(l){a(l)}}function c(e){e.done?t(e.value):n(e.value).then(s,i)}c((o=o.apply(e,l||[])).next())}))};const k=(0,o.pM)({name:"page-settings-connection",setup(){const e=(0,h.V)(),l=(0,o.EW)((()=>e.allConnects)),t=(0,m.KR)(!1),n=(0,m.KR)(),a=(0,m.KR)(),s=(0,m.KR)(),i=(0,m.KR)(),c=(0,o.EW)({get:()=>e.showTestNet,set:l=>{e.setShowTestNet(l)}}),u=(0,m.KR)(),d=(0,m.KR)(""),r=(0,m.KR)("eos"),p=(0,m.KR)(""),g=["get_account","get_table_rows","get_currency_balance","get_table_by_scope"];function b(){return _(this,void 0,void 0,(function*(){const e=(0,f.GetConnectByChainId)(r.value,l.value);if(void 0==e)return void console.log("No connection found");let t;try{switch(d.value){case"get_account":t=yield e.get_account(p.value);break;case"get_table_rows":let l=JSON.parse(p.value);if(void 0==l)return;t=yield e.get_table_rows(l);break;case"get_currency_balance":let o=JSON.parse(p.value);if(void 0==o)return;const n=o;t=yield e.get_currency_balance(n.code,n.account,n.symbol);break;case"get_table_by_scope":let a=JSON.parse(p.value);if(void 0==a)return;t=yield e.get_table_by_scope(a);break}console.log("Result of the request",t),"json"in t&&(500===t.json.code?console.log("Account name doesn't exists"):console.log(`Unknown error ${t.json.code}`))}catch(o){console.log("Cannot send the request",o)}}))}const k=3;function y(e){const t=l.value[e];return void 0==t.getRamEPs||t.getRamEPs.length<=0?t.testedAllEPsAvailable?"red":"":t.getRamEPs.length>=k?"green":"orange"}function C(e){if(void 0==e||e<=0)return-1===e?"black":"grey";let l="";return e<=3e3?(l=e<=600?`#${(10*Math.floor(25.5*e/600)).toString(16).replace("-","0").padStart(2,"0")}ff00`:`#ff${(255-10*Math.floor(25.5*(e-600)/2300)).toString(16).replace("-","0").padStart(2,"0")}00`,l):"red"}function w(e,l){void 0!=l.available&&(l.available?(A(e.getRamEPs,l),A(e.getBlockEPs,l),A(e.getRpcEPs,l),l.available=!1):(f.Connect.AddAvailableEndpointByPingRAM(e.getRamEPs,l),f.Connect.AddAvailableEndpointByPingRAM(e.getBlockEPs,l),f.Connect.AddAvailableEndpointByPingRAM(e.getRpcEPs,l),l.available=!0))}function A(e,l){let t=null;e.find(((e,o)=>e==l&&(t=o,!0))),null!=t&&e.splice(t,1)}const P=(0,o.EW)((()=>l.value.map((e=>e.chainParams.chainId+(e.chainParams.name?" "+e.chainParams.name:"")))));function F(){var e;let t=null===(e=i.value)||void 0===e?void 0:e.trim();if(!t)return;let o=t.indexOf(" ");o&&(t=t.substring(0,o)),console.log("s",t);let c=l.value.find((e=>e.chainParams.chainId==t));if(s.value&&"number"!=typeof s.value&&(s.value=parseInt(s.value)),n.value&&a.value&&a.value.includes(".")&&"number"==typeof s.value&&s.value>=0){console.log("connect",c);const e={protocol:n.value,host:a.value,port:s.value};null===c||void 0===c||c.chainParams.rpcEndpoints.push(e),console.log("Added endpoint",e)}}function q(){console.log("jo"),u.value=i.value}return{allConnects:l,loading:t,ChainColor:y,pingColor:C,toggleAvailable:w,requestType:d,typeOptions:g,requestData:p,requestChain:r,sendRequest:b,customProtocol:n,customHost:a,customPort:s,customChainId:u,selectedChain:i,addEndpoint:F,chainIdsWithNameForOptions:P,onSelectCustomChain:q,showTestNet:c,t:(0,v.s9)({useScope:"global"}).t.bind(this)}}});var y=t(12807),C=t(66908),w=t(56384),A=t(53999),P=t(90124),F=t(25173),q=t(13796),R=t(51097),E=t(50492),V=t(97410),x=t(75848),T=t(67837),I=t(88841),W=t(23316),N=t(44189),Q=t(39626),S=t(98582),K=t.n(S);const B=(0,y.A)(k,[["render",b]]),L=B;K()(k,"components",{QToggle:C.A,QBtn:w.A,QList:A.A,QItem:P.A,QItemSection:F.A,QItemLabel:q.A,QSpinnerPuff:R.A,QIcon:E.A,QTooltip:V.A,QSelect:x.A,QInput:T.A,QExpansionItem:I.A,QCard:W.A,QCardSection:N.A}),K()(k,"directives",{Ripple:Q.A})}}]);