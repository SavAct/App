"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[140],{25689:(e,l,o)=>{o.r(l),o.d(l,{default:()=>Fe});var t=o(61758),i=o(58790),n=o(29104);const a={class:"row justify-between reverse q-my-md"},s={class:"col-12 col-sm-5 col-md-3 q-px-sm"},c={class:"row justify-between"},u={class:"col-12"},r={class:"col-12 text-h6 text-left"},d={class:"col-12 text-left"},v={class:"q-px-sm card col"},p={class:"col q-pr-sm"},m={key:1,class:"text-h6"},b={class:"col-auto row"},g={class:"col-grow"},y={class:"col q-pl-sm"},h={class:"col-grow q-pr-sm"},f={class:"full-height column cursor-pointer"},k=["onClick"],w={key:0},S={class:"col-auto justify-end column"},q={class:"col-auto"},x={key:0},C={class:"col-auto",caption:""},_={class:"col-grow"},R={class:"full-width row flex-center q-gutter-sm"},W={class:"text-h6"},T={class:"q-mt-sm q-mr-sm"},F={class:"text-h6"},L={key:0,class:"q-mt-sm q-mr-sm"},A={key:0},V={key:1};function K(e,l,o,K,E,U){const B=(0,t.g2)("q-btn"),Q=(0,t.g2)("q-btn-toggle"),I=(0,t.g2)("q-card"),D=(0,t.g2)("key-or-name-input"),P=(0,t.g2)("q-tooltip"),X=(0,t.g2)("q-th"),j=(0,t.g2)("q-item-label"),N=(0,t.g2)("q-icon"),O=(0,t.g2)("vote-buttons"),$=(0,t.g2)("remaining-time"),H=(0,t.g2)("q-item-section"),M=(0,t.g2)("stream-embed"),z=(0,t.g2)("social-channels"),G=(0,t.g2)("q-item"),J=(0,t.g2)("q-td"),Y=(0,t.g2)("q-tr"),Z=(0,t.g2)("q-table"),ee=(0,t.g2)("symbol-dialog"),le=(0,t.g2)("q-card-section"),oe=(0,t.g2)("q-card-actions"),te=(0,t.g2)("q-dialog"),ie=(0,t.g2)("wallet-eosio"),ne=(0,t.g2)("q-page"),ae=(0,t.gN)("touch-hold"),se=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.Wv)(ne,{class:"justify-evenly"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",a,[(0,t.bo)((0,t.Lk)("div",s,[(0,t.bF)(I,{class:"card q-px-md q-py-md q-mb-md items-center"},{default:(0,t.k6)((()=>{var o;return[(0,t.Lk)("div",c,[(0,t.bF)(B,{class:"col-12 q-px-md q-mb-sm",dense:"",label:`${null===(o=e.chain)||void 0===o?void 0:o.name} Network`,onClick:e.showWalletDialog,outline:""},null,8,["label","onClick"]),(0,t.Lk)("div",u,[(0,t.bF)(B,{size:"sm",class:"row q-px-sm q-py-none",onClick:l[0]||(l[0]=l=>e.showSymbol=!0),outline:""},{default:(0,t.k6)((()=>[(0,t.Lk)("div",r,(0,i.v_)(e.symbol),1),(0,t.Lk)("div",d,(0,i.v_)(e.tokenContract),1)])),_:1})])]),(0,t.bF)(Q,{class:"q-mt-sm",modelValue:e.historyByRecipient,"onUpdate:modelValue":l[1]||(l[1]=l=>e.historyByRecipient=l),"no-caps":"",spread:"",outline:"","toggle-color":"primary",options:[{label:e.t("votesByPublic"),value:!1},{label:e.t("votesBySpecidic"),value:!0}]},null,8,["modelValue","options"]),(0,t.bF)(Q,{class:"q-mt-sm",modelValue:e.timeState,"onUpdate:modelValue":l[2]||(l[2]=l=>e.timeState=l),"no-caps":"",spread:"",outline:"","toggle-color":"primary",options:[{label:e.t("allVotes"),value:"all"},{label:e.t("activeVotes"),value:"active"},{label:e.t("runningVotes"),value:"running"}]},null,8,["modelValue","options"])]})),_:1})],512),[[n.aG,e.expandSettings]]),(0,t.Lk)("div",v,[(0,t.bF)(Z,{title:e.t("currentVotes"),rows:e.inRows,columns:e.inColumns,"row-key":e.rowKey,color:"amber",loading:e.loading,"no-data-label":e.historyByRecipient?e.t("hintHistoryUse"):e.t("hintNoPublicVote")},{top:(0,t.k6)((()=>[(0,t.Lk)("div",p,[e.historyByRecipient?((0,t.uX)(),(0,t.Wv)(D,{key:0,modelValue:e.recipient,"onUpdate:modelValue":l[3]||(l[3]=l=>e.recipient=l),outlined:"",label:e.t("recipient"),dense:""},null,8,["modelValue","label"])):((0,t.uX)(),(0,t.CE)("div",m,(0,i.v_)(e.t("currentVotes")),1))]),(0,t.Lk)("div",b,[(0,t.Lk)("div",g,[(0,t.bF)(B,{icon:"update",label:"In",loading:e.loading,outline:"",onClick:l[4]||(l[4]=l=>e.update()),disable:e.loading},{default:(0,t.k6)((()=>[(0,t.bF)(P,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.t("update")),1)])),_:1})])),_:1},8,["loading","disable"])]),(0,t.Lk)("div",y,[(0,t.bF)(B,{icon:"bi-funnel",outline:"",onClick:l[5]||(l[5]=l=>e.expandSettings=!e.expandSettings)},{default:(0,t.k6)((()=>[(0,t.bF)(P,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.t("openFilterSettings")),1)])),_:1})])),_:1})])])])),"header-cell":(0,t.k6)((e=>[(0,t.bF)(X,{props:e,style:{"max-width":"10px"}},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(e.col.label),1)])),_:2},1032,["props"])])),body:(0,t.k6)((o=>[(0,t.bF)(Y,{props:o,class:(0,i.C4)(o.row.removed?e.brightStyle?"bg-grey":"bg-grey-10":"")},{default:(0,t.k6)((()=>[(0,t.bF)(J,{key:"id",colspan:"5",props:o,style:{padding:"0"}},{default:(0,t.k6)((()=>[(0,t.bF)(G,{class:(0,i.C4)(["full-width q-px-none q-py-none",e.videoSideBySide?"row":"column"])},{default:(0,t.k6)((()=>[(0,t.bF)(H,{top:"",class:"col q-pt-sm"},{default:(0,t.k6)((()=>{var n;return[(0,t.Lk)("div",{class:(0,i.C4)(["full-height",e.titleSideBySide?"row":"column reverse"])},[(0,t.Lk)("div",h,[(0,t.Lk)("div",f,[(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",{class:"col-grow q-pl-md",onClick:l=>e.onRowClick(o.row)},["string"===typeof(null===(n=o.row.public)||void 0===n?void 0:n.title)?((0,t.uX)(),(0,t.Wv)(j,{key:0,class:(0,i.C4)(["shorten text-h6",e.videoSideBySide?"q-pb-sm":""])},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)(o.row.public.title),1)])),_:2},1032,["class"])):(0,t.Q3)("",!0),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.getOptions(o.row).slice(0,3),((l,n)=>((0,t.uX)(),(0,t.CE)(t.FK,{key:n},[3==n&&(o.row.options.length>3||o.row.public&&o.row.public.options.length>3)?((0,t.uX)(),(0,t.CE)("div",w,[(0,t.bF)(N,{name:"more_vert"})])):((0,t.uX)(),(0,t.Wv)(j,{key:1,class:(0,i.C4)(["shorten",0===n?"text-bold":""])},{default:(0,t.k6)((()=>[!1===isNaN(null===l||void 0===l?void 0:l.index)?((0,t.uX)(),(0,t.Wv)(N,{key:0,name:"bi-dot",color:e.VoteColor[l.index]},null,8,["color"])):(0,t.Q3)("",!0),(0,t.eW)(" "+(0,i.v_)(l&&"string"==typeof l.msg?0==l.msg.length?(e.videoSideBySide?e.t("selection")+" ":e.t("selection").substring(0,1)+". ")+(l.index+1).toString():l.msg:"-"),1)])),_:2},1032,["class"]))],64)))),128))],8,k)),[[ae,()=>e.onRowTouchHold(o.row),void 0,{mouse:!0}]]),(0,t.Lk)("div",{class:(0,i.C4)(["col-auto q-pl-sm text-grey row justify-between",e.videoSideBySide?"q-pb-sm"+(e.$q.screen.gt.sm?" q-pl-md":""):"text-right"])},[(0,t.Lk)("div",{class:(0,i.C4)(["col-auto",e.videoSideBySide?"q-mt-sm":"q-mt-md q-mb-sm"])},[o.row.public?((0,t.uX)(),(0,t.Wv)(O,{key:0,onShowResult:l=>e.onRowClick(o.row),loading:o.row.loading.openResult.value,poll:o.row,recipient:"object"===typeof o.row.public?o.row.public.holder:e.recipient},null,8,["onShowResult","loading","poll","recipient"])):(0,t.Q3)("",!0)],2),(0,t.Lk)("div",S,[(0,t.Lk)("div",q,[l[13]||(l[13]=(0,t.eW)(" #")),o.row.public?((0,t.uX)(),(0,t.CE)("span",x,(0,i.v_)("object"==typeof o.row.public?o.row.public.index:o.row.public),1)):(0,t.Q3)("",!0),(0,t.eW)(" ["+(0,i.v_)(o.row.id.toString(16))+"] ",1)])])],2)])]),(0,t.Lk)("div",{class:(0,i.C4)(["col-auto text-right q-mb-sm text-grey",e.titleSideBySide?"column":"row justify-between q-mx-sm"]),side:"",top:""},[(0,t.Lk)("div",C,[(0,t.bF)($,{"model-value":new Date(1e3*Number(o.row.end)),timeOverMsg:e.t("timeOver"),short:""},null,8,["model-value","timeOverMsg"])]),(0,t.Lk)("div",_,["object"===typeof o.row.public?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.eW)((0,i.v_)(e.AssetToString({amount:BigInt(o.row.public.sum.active),symbol:o.row.symbol})),1)],64)):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.eW)((0,i.v_)(o.row.sum.votes.active)+" 👍 "+(0,i.v_)(e.AssetToString({amount:BigInt(o.row.sum.amount.active),symbol:o.row.symbol})),1)],64))])],2)],2)]})),_:2},1024),"object"==typeof o.row.public?((0,t.uX)(),(0,t.Wv)(H,{key:0,class:"col-auto",side:e.videoSideBySide,style:{margin:"0"}},{default:(0,t.k6)((()=>[(0,t.Lk)("div",{class:(0,i.C4)(e.videoSideBySide?"row":"column full-width")},[void 0!==e.active[o.row.public.index]?((0,t.uX)(),(0,t.Wv)(M,{key:0,class:(0,i.C4)(["col-auto",e.videoSideBySide?"":"fit"]),style:{padding:"0"},src:o.row.social.url.value,play:o.row.social.playing.value,"onUpdate:play":e=>o.row.social.playing.value=e,"full-width":!e.videoSideBySide},null,8,["class","src","play","onUpdate:play","full-width"])):(0,t.Q3)("",!0),(0,t.bF)(z,{class:(0,i.C4)([e.videoSideBySide?"q-pl-sm":"q-pt-none","col-auto"]),vertical:e.videoSideBySide,links:o.row.public.links,active:e.active[o.row.public.index],"onUpdate:active":l=>e.active[o.row.public.index]=l,selected:e.selected[o.row.public.index],"onUpdate:selected":l=>e.selected[o.row.public.index]=l,onOpen:l=>{e.openDialog=!0,e.dialogLink=o.row.public.links.at(l).url,e.dialogText=o.row.public.links.at(l).note}},null,8,["class","vertical","links","active","onUpdate:active","selected","onUpdate:selected","onOpen"])],2)])),_:2},1032,["side"])):(0,t.Q3)("",!0)])),_:2},1032,["class"])])),_:2},1032,["props"])])),_:2},1032,["props","class"])])),"no-data":(0,t.k6)((({message:e})=>[(0,t.Lk)("div",R,[(0,t.Lk)("span",null,(0,i.v_)(e),1)])])),_:1},8,["title","rows","columns","row-key","loading","no-data-label"])])]),(0,t.bF)(ee,{modelValue:e.showSymbol,"onUpdate:modelValue":l[6]||(l[6]=l=>e.showSymbol=l),contract:e.tokenContract,"onUpdate:contract":l[7]||(l[7]=l=>e.tokenContract=l),symbol:e.symbol,"onUpdate:symbol":l[8]||(l[8]=l=>e.symbol=l),connect:e.connect,precision:e.precision,"onUpdate:precision":l[9]||(l[9]=l=>e.precision=l)},null,8,["modelValue","contract","symbol","connect","precision"]),(0,t.bF)(te,{modelValue:e.openDialog,"onUpdate:modelValue":l[11]||(l[11]=l=>e.openDialog=l)},{default:(0,t.k6)((()=>[(0,t.bF)(I,null,{default:(0,t.k6)((()=>[(0,t.bF)(le,{class:"items-center"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",W,(0,i.v_)("string"==typeof e.dialogText&&e.dialogText.length>0?e.dialogText:e.t("openNewTabRequest")),1),(0,t.Lk)("div",T,(0,i.v_)(e.dialogLink),1)])),_:1}),(0,t.bF)(oe,{align:"right"},{default:(0,t.k6)((()=>[(0,t.bo)((0,t.bF)(B,{flat:"",label:e.t("cancel"),color:"red"},null,8,["label"]),[[se]]),(0,t.bo)((0,t.bF)(B,{flat:"",label:e.t("open"),color:"primary",icon:"open_in_new",onClick:l[10]||(l[10]=l=>e.openURL(e.dialogLink))},null,8,["label"]),[[se]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.bF)(te,{modelValue:e.deleteDialog,"onUpdate:modelValue":l[12]||(l[12]=l=>e.deleteDialog=l)},{default:(0,t.k6)((()=>[(0,t.bF)(I,null,{default:(0,t.k6)((()=>[(0,t.bF)(le,{class:"items-center"},{default:(0,t.k6)((()=>{var o;return[(0,t.Lk)("div",F,(0,i.v_)(e.t("delPubVote")),1),(null===(o=e.selectedPoll)||void 0===o?void 0:o.public)?((0,t.uX)(),(0,t.CE)("div",L,["object"==typeof e.selectedPoll.public?((0,t.uX)(),(0,t.CE)("div",A,[l[14]||(l[14]=(0,t.eW)(" #")),(0,t.Lk)("span",null,(0,i.v_)(e.selectedPoll.public.index),1),(0,t.eW)(" ["+(0,i.v_)(e.selectedPoll.id.toString(16))+"]: ",1),(0,t.Lk)("span",null,(0,i.v_)(e.selectedPoll.public.title),1)])):((0,t.uX)(),(0,t.CE)("div",V,[l[15]||(l[15]=(0,t.eW)(" #")),(0,t.Lk)("span",null,(0,i.v_)(e.selectedPoll.public),1),(0,t.eW)(" ["+(0,i.v_)(e.selectedPoll.id.toString(16))+"]: ",1),l[16]||(l[16]=(0,t.Lk)("span",null,"Not available onymore!",-1))]))])):(0,t.Q3)("",!0)]})),_:1}),(0,t.bF)(le,{class:"row justify-between"},{default:(0,t.k6)((()=>[(0,t.bF)(ie,{class:"col q-pr-md"}),e.walletStyle?(0,t.bo)(((0,t.uX)(),(0,t.Wv)(B,{key:0,class:"col-12 col-sm-auto q-mt-md",label:e.t("delete"),"icon-right":"send",color:"blue",onClick:e.confirmDeletion},null,8,["label","onClick"])),[[se]]):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(oe,{align:"right"},{default:(0,t.k6)((()=>[(0,t.bo)((0,t.bF)(B,{flat:"",label:e.t("cancel"),color:"red"},null,8,["label"]),[[se]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var E=o(98919),U=o(6885),B=o(77489),Q=o(85119),I=o(65280),D=o(44927),P=o(72836),X=o(38734),j=o(57387),N=o(20989),O=o(14907),$=o(39507),H=o(70308),M=o(48960),z=o(97687),G=o(60455),J=o(75111),Y=o(87639),Z=o(76847),ee=o(32334),le=o(87881),oe=o(70954),te=o(72092),ie=o(43271),ne=o(69487),ae=function(e,l,o,t){function i(e){return e instanceof o?e:new o((function(l){l(e)}))}return new(o||(o=Promise))((function(o,n){function a(e){try{c(t.next(e))}catch(l){n(l)}}function s(e){try{c(t["throw"](e))}catch(l){n(l)}}function c(e){e.done?o(e.value):i(e.value).then(a,s)}c((t=t.apply(e,l||[])).next())}))};const se=(0,t.pM)({name:"page-list-polls",components:{KeyOrNameInput:E["default"],RemainingTime:B["default"],SymbolDialog:Q["default"],SocialChannels:I["default"],StreamEmbed:D["default"],WalletEosio:U["default"],VoteButtons:P["default"]},setup(){var e,l,o,i,n,a;const s=(0,Y.J)(),c=(0,$.V)(),u=(0,O.A)(),r=(0,j.s9)({useScope:"global"}).t.bind(this),d=(0,X.KR)(),v=(0,G.rd)(),p=(0,G.lq)(),m=p.query,b=(0,t.EW)((()=>c.selectedConnect));(0,t.wB)((()=>b.value),(()=>{A(),_e()}));const g=(0,X.KR)(!1),y=(0,t.EW)((()=>{var e;return null===(e=c.selectedConnect)||void 0===e?void 0:e.chainParams}));(0,le.iniSelectedChain)(m.chain,void 0==y.value?L:void 0);const h=(0,X.KR)(!1),f=(0,X.KR)(!1),k=(0,X.KR)(!1),w=(0,X.KR)([0,0]),S=(0,X.KR)(!1),q=(0,X.KR)((null===(l=null===(e=y.value)||void 0===e?void 0:e.systemToken)||void 0===l?void 0:l.contract)?y.value.systemToken.contract:"eosio.token"),x=(0,X.KR)((null===(i=null===(o=y.value)||void 0===o?void 0:o.systemToken)||void 0===i?void 0:i.symbol)?y.value.systemToken.symbol:"EOS"),C=(0,X.KR)((null===(a=null===(n=y.value)||void 0===n?void 0:n.systemToken)||void 0===a?void 0:a.precision)?y.value.systemToken.precision:4),_=(0,X.KR)(!1),R=(0,X.KR)(""),W=(0,X.KR)(""),T=(0,t.EW)((()=>c.walletUser)),F=(0,t.EW)((()=>c.getWalletStyle));if(m.token){const e=m.token.split(",");switch(e.length){case 3:q.value=e[2];case 2:C.value=Number(e[0]),x.value=e[1];break;case 1:x.value=e[0];break;default:console.log("Wrong symbol query")}}function L(){console.log("Go back"),history.length>2?v.back():v.push({name:"vote"})}function A(){if(p.fullPath.length>1){const e=y.value?y.value.shortName?b.value.chainParams.shortName:y.value.chainId:void 0;K.value&&E.value.length>0?v.replace({query:{to:E.value,chain:e}}):v.replace({query:{chain:e}})}}void 0!=m.to&&m.to.length>0&&(m.to.length<=13&&(0,H.isNameValid)(m.to)?c.setHistoryUserInput(m.to.toLowerCase()):M.E.isValidPublic(m.to)&&c.setHistoryUserInput(m.to));const V=(0,X.KR)(!1),K=(0,t.EW)({get:()=>V.value,set:e=>{se.breakUpdate(),V.value=e,A()}}),E=(0,t.EW)({get:()=>c.historyUserInput.length>13?z.PublicKey.fromString(c.historyUserInput).toString():c.historyUserInput,set:e=>{c.setHistoryUserInput(e),e.length>0&&(p.fullPath.length>1&&K.value&&v.replace({query:{to:e}}),ce())}}),U=(0,t.EW)((()=>s.brightStyle)),B=(0,X.KR)(!1),Q=(0,X.KR)(!1),I=(0,X.KR)(-1),D=(0,X.KR)(!1),P=(0,t.EW)((()=>B.value||D.value)),se=new oe.TrxUpdater;function ce(){return ae(this,void 0,void 0,(function*(){0!=E.value.length?B.value||(B.value=!0,yield se.updateAllIncomings(E.value,b.value),B.value=!1):N.A.create({type:"negative",message:r("noRecipientDefined"),caption:r("enterUserFirst"),position:"top"})}))}function ue(){return ae(this,void 0,void 0,(function*(){D.value||(D.value=!0,yield se.updatePublicVotes(b.value),D.value=!1)}))}const re=(0,t.EW)((()=>[{name:"index",align:"left",label:"#",field:"index",sort:(e,l)=>{var o,t;return(null===(o=e.public)||void 0===o?void 0:o.index)-(null===(t=l.public)||void 0===t?void 0:t.index)},sortable:!0},{name:"id",align:"left",label:"[id]",field:"id",sortable:!0},{name:"end",align:"left",label:"🕔",field:"end",sortable:!0},{name:"fund",align:"left",label:"💲",field:"amount",sort:(e,l)=>(e.public?e.public.sum.active:e.amount.active)-(l.public?l.public.sum.active:l.amount.active),sortable:!0},{name:"votes",align:"left",label:"👥",field:"votes",sort:(e,l)=>e.votes.active-l.votes.active,sortable:!0}])),de=(0,t.EW)((()=>{var e;return K.value?null===(e=c.user[E.value])||void 0===e?void 0:e.polls:Array.from(c.pubPolls).sort(((e,l)=>l[0]-e[0])).map((e=>e[1])).flat()}));function ve(e){return e.contract==q.value&&e.symbol.name==x.value&&e.symbol.precision==C.value&&(e.chain==b.value.chainParams.shortName||e.chain==b.value.chainParams.chainId)}const pe=(0,X.KR)("all"),me=(0,t.EW)((()=>{if(void 0===de.value)return[];switch(pe.value){case"running":return de.value.filter((e=>e.end>Date.now()/1e3&&ve(e)));case"active":return de.value.filter((e=>"object"===typeof e.public&&e.public.limit>Date.now()/1e3&&ve(e)));default:return de.value.filter((e=>ve(e)))}})),be=(0,X.Kh)({}),ge=(0,X.Kh)({}),ye=(0,t.EW)((()=>me.value.map((e=>Object.assign(Object.assign({},e),{loading:{openResult:(0,X.KR)(!1)},social:{playing:(0,X.KR)(!1),url:(0,t.EW)((()=>{var l;if("object"===typeof e.public&&ge[e.public.index]>=0)return null===(l=e.public)||void 0===l?void 0:l.links[ge[e.public.index]].url}))}}))))),he=(0,X.KR)(!1);function fe(e){var l;return ae(this,void 0,void 0,(function*(){if(he.value)return;let o;he.value=!0,e.loading.openResult.value=!0,"object"===typeof e.public?(B.value=!0,o=e.public.holder,console.log("Update all incommings of",o),yield se.updateAllIncomings(o,b.value),B.value=!1):o=E.value;let t=null===(l=c.user[o])||void 0===l?void 0:l.inHistory.find((l=>{if(l.chain==e.chain&&l.contract==e.contract){const t=(0,H.StringToAsset)(l.fund);if(t&&t.symbol.name==e.symbol.name&&t.symbol.precision==e.symbol.precision)try{const o=(0,Z.getVoteDataFromMemo)(l.memo,l.type);return o.end==e.end&&o.id==e.id&&o.total==e.options.length}catch(o){console.log("Error on converting vote data from memo",o)}}return!1}));if(t){let l={to:o,id:null===t||void 0===t?void 0:t.id,chain:e.chain};v.push({name:"vote-result",query:l})}else N.A.create({type:"negative",message:r("noTrxFound"),position:"top"});he.value=!1,e.loading.openResult.value=!1}))}const ke=(0,X.KR)(void 0);function we(){var e,l;"object"===typeof(null===(e=ke.value)||void 0===e?void 0:e.public)&&void 0!==(null===(l=T.value)||void 0===l?void 0:l.name)&&(console.log("Confirm deletion",ke.value.public.index),Te(ke.value.public.index,T.value.name))}const Se=(0,X.KR)(!1);function qe(e){ke.value=e,console.log("Touch hold",e),Se.value=!0}function xe(e){return`${e.id} ${e.end} ${e.symbol.name} ${e.symbol.precision} ${e.contract} ${e.type}${"object"===typeof e.public?` ${e.public.index} ${e.public.limit}`:"number"===typeof e.public?e.public:""}`}function Ce(e){return new Date(1e3*e)}function _e(){K.value?E.value.length>0&&ce():ue()}function Re(e,l){console.log(l),N.A.create({type:"positive",message:"Test",caption:e.toString(),position:"top"})}function We(e){e.startsWith("https://")||e.startsWith("http://")||(e="https://"+e),window.open(e,"_blank")}function Te(e,l){return ae(this,void 0,void 0,(function*(){if(!b.value||!y.value||"string"!=typeof y.value.savpayContract)return;if(!c.walletUser){N.A.create({message:r("errSelectWallet"),position:"top"});const e={chainId:y.value.chainId,show:!0};return void c.setWalletDialog(e)}const o=[{actor:l,permission:c.walletUser.permission?c.walletUser.permission:"active"}],t={actions:[{account:y.value.savpayContract,name:"removevote",authorization:o,data:{ramBy:l,index:e}}]},i=N.A.create({type:"ongoing",message:r("signTrx"),position:"top"}),n={isError:!1,notify:i},a=yield le.Connect.trySigning(n,c.walletUser,t,{broadcast:!1});return!!(0,te.trxSigningErrorHandling)(n,a,r)&&(!!(yield(0,te.broadcastTrx)(n,b.value,a,r))&&(setTimeout(_e,5e3),!0))}))}return(0,t.sV)((()=>{K.value=void 0!=m.to&&m.to.length>0,_e()})),{t:r,chain:y,brightStyle:U,moreAvailable:Q,lastSearchId:I,update:_e,loading:P,eosioStore:c,showWalletDialog:c.showWalletDialog,inRows:ye,inColumns:re,shortAddress:H.shortAddress,shortenText:H.shortenText,onRowClick:fe,rowKey:xe,colorStatus:J.colorStatus,showSymbol:S,connect:b,tokenContract:q,symbol:x,precision:C,switchCount:h,graphUpdateKey:w,VoteColor:Z.VoteColor,isVoteOver:f,infoDialog:k,shrinkText:ee.shrinkText,recipient:E,AssetToString:H.AssetToString,getDateFromEndTime:Ce,historyByRecipient:K,timeState:pe,getOptions:ne.getOptions,showTest:Re,expandSettings:g,openDialog:_,dialogLink:W,dialogText:R,openURL:We,titleSideBySide:(0,t.EW)((()=>u.screen.gt.sm&&!g.value)),videoSideBySide:(0,t.EW)((()=>u.screen.gt.xs&&!g.value)),active:ge,selected:be,onRowTouchHold:qe,walletStyle:F,selectedPoll:ke,confirmDeletion:we,deleteDialog:Se,copyQrImage:ie.copyQrImage,qrCodeDiv:d}}});var ce=o(12807),ue=o(77716),re=o(23316),de=o(56384),ve=o(28975),pe=o(9979),me=o(97410),be=o(57722),ge=o(44488),ye=o(45262),he=o(90124),fe=o(25173),ke=o(13796),we=o(50492),Se=o(82156),qe=o(44189),xe=o(62669),Ce=o(30860),_e=o(88672),Re=o(98582),We=o.n(Re);const Te=(0,ce.A)(se,[["render",K],["__scopeId","data-v-5619c20b"]]),Fe=Te;We()(se,"components",{QPage:ue.A,QCard:re.A,QBtn:de.A,QBtnToggle:ve.A,QTable:pe.A,QTooltip:me.A,QTh:be.A,QTr:ge.A,QTd:ye.A,QItem:he.A,QItemSection:fe.A,QItemLabel:ke.A,QIcon:we.A,QDialog:Se.A,QCardSection:qe.A,QCardActions:xe.A}),We()(se,"directives",{TouchHold:Ce.A,ClosePopup:_e.A})}}]);