"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[327],{36327:(e,l,a)=>{a.r(l),a.d(l,{default:()=>z});var o=a(61758),t=a(58790),n=a(29104);const i={class:"q-pa-md"},r={class:"row"},s={class:"q-mr-md col"},u={class:"col-12 col-sm-6 text-right q-pr-xs q-pt-sm"},d={class:"q-my-md"},c={class:"q-mx-md"},v={class:"row q-my-sm"},m={class:"row q-my-sm"},p={class:"row q-my-sm"};function f(e,l,a,f,g,h){const b=(0,o.g2)("q-input"),k=(0,o.g2)("q-btn"),y=(0,o.g2)("q-icon"),x=(0,o.g2)("q-file"),V=(0,o.g2)("q-toggle"),F=(0,o.g2)("originator"),w=(0,o.g2)("q-separator"),U=(0,o.g2)("q-checkbox"),_=(0,o.g2)("q-slider"),R=(0,o.g2)("q-item-label"),T=(0,o.g2)("q-item-section"),A=(0,o.g2)("q-item"),K=(0,o.g2)("q-list"),S=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(S,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",i,[(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.scope,"onUpdate:modelValue":l[0]||(l[0]=l=>e.scope=l),label:"Scope",maxlength:"13",class:"full-width","upper-case":""},{before:(0,o.k6)((()=>l[24]||(l[24]=[(0,o.Lk)("span",{class:"beforeicon"},"#",-1)]))),_:1},8,["modelValue"]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.contract,"onUpdate:modelValue":l[1]||(l[1]=l=>e.contract=l),label:"Contract",maxlength:"13",class:"full-width"},{before:(0,o.k6)((()=>l[25]||(l[25]=[(0,o.Lk)("span",{class:"beforeicon"},"@",-1)]))),_:1},8,["modelValue"]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.chain,"onUpdate:modelValue":l[2]||(l[2]=l=>e.chain=l),label:"Chain",maxlength:"255",class:"full-width"},{before:(0,o.k6)((()=>l[26]||(l[26]=[(0,o.Lk)("span",{class:"beforeicon"},":",-1)]))),_:1},8,["modelValue"]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.table,"onUpdate:modelValue":l[3]||(l[3]=l=>e.table=l),label:"Table",maxlength:"13",class:"full-width"},{before:(0,o.k6)((()=>l[27]||(l[27]=[(0,o.Lk)("span",{class:"beforeicon"},"/",-1)]))),_:1},8,["modelValue"]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.key,"onUpdate:modelValue":l[5]||(l[5]=l=>e.key=l),label:e.keyIsName?"Name key":"Index key",type:e.keyIsName?"text":"number",min:e.keyIsName?"":"0",maxlength:e.keyIsName?"13":"20",class:"full-width",hint:e.keyHint},{before:(0,o.k6)((()=>[(0,o.bF)(k,{class:"beforeicon",label:e.keyIsName?"/!":"!",round:"",onClick:l[4]||(l[4]=l=>e.keyIsName=!e.keyIsName),size:"2vh",color:"blue-grey"},null,8,["label"])])),_:1},8,["modelValue","label","type","min","maxlength","hint"]),(0,o.bF)(x,{clearable:"",color:"orange",modelValue:e.oriFile,"onUpdate:modelValue":[l[6]||(l[6]=l=>e.oriFile=l),e.setFile],standout:"","bottom-slots":"",label:"Select file",counter:""},{prepend:(0,o.k6)((()=>[(0,o.bF)(y,{name:"attach_file"})])),hint:(0,o.k6)((()=>l[28]||(l[28]=[(0,o.eW)(" Field hint ")]))),_:1},8,["modelValue","onUpdate:modelValue"]),(0,o.Lk)("div",r,[(0,o.Lk)("div",s,[(0,o.bF)(V,{class:"q-mr-md",label:"Compress","left-label":"",onClick:e.CompressEncodeAndHash,modelValue:e.shouldcompress,"onUpdate:modelValue":l[7]||(l[7]=l=>e.shouldcompress=l)},null,8,["onClick","modelValue"]),(0,o.bF)(V,{label:"Base64","left-label":"",onClick:e.CompressEncodeAndHash,modelValue:e.shouldBase64,"onUpdate:modelValue":l[8]||(l[8]=l=>e.shouldBase64=l)},null,8,["onClick","modelValue"])]),(0,o.Lk)("div",u,(0,t.v_)(e.fsize)+" Byte and a rough estimation of "+(0,t.v_)(e.netEstimation)+" NET",1)]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.format,"onUpdate:modelValue":l[9]||(l[9]=l=>e.format=l),label:"Format",maxlength:"255",class:"full-width"},{hint:(0,o.k6)((()=>[(0,o.eW)(" mhash: "+(0,t.v_)(e.mhash),1)])),_:1},8,["modelValue"]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.fname,"onUpdate:modelValue":l[10]||(l[10]=l=>e.fname=l),label:"Name",maxlength:"255",class:"full-width"},null,8,["modelValue"]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.type,"onUpdate:modelValue":l[11]||(l[11]=l=>e.type=l),label:"Type",maxlength:"255",class:"full-width"},null,8,["modelValue"]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.attri,"onUpdate:modelValue":l[12]||(l[12]=l=>e.attri=l),label:"Attributes",maxlength:"255",class:"full-width"},null,8,["modelValue"]),l[35]||(l[35]=(0,o.Lk)("div",{class:"float-left"},"Originators:",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.originators,((l,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"row full-width",key:l.id},[(0,o.Lk)("div",d,[(0,o.bF)(k,{label:"-",color:"red",onClick:l=>e.subOriginator(a),class:"full-height"},null,8,["onClick"])]),(0,o.bF)(F,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,class:"col-grow"},null,8,["modelValue","onUpdate:modelValue"])])))),128)),(0,o.bF)(k,{class:"q-mb-sm q-mr-sm float-right",label:"+",round:"",color:"green",onClick:e.addOriginator},null,8,["onClick"]),(0,o.bF)(b,{outlined:"","bottom-slots":"",modelValue:e.resalefee,"onUpdate:modelValue":l[13]||(l[13]=l=>e.resalefee=l),modelModifiers:{number:!0},type:"number",max:"100",min:"0",label:"Resale fee",maxlength:"255",class:"full-width"},{append:(0,o.k6)((()=>l[29]||(l[29]=[(0,o.eW)("%")]))),hint:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)(e.reSaleFeeHint),1)])),_:1},8,["modelValue"]),(0,o.bF)(w,{class:"q-mt-md"}),(0,o.bF)(U,{modelValue:e.shouldSplitFile,"onUpdate:modelValue":l[14]||(l[14]=l=>e.shouldSplitFile=l),label:"Split file",class:"full-width"},null,8,["modelValue"]),(0,o.bo)((0,o.Lk)("div",c,[(0,o.bo)((0,o.bF)(_,{modelValue:e.fileSplit,"onUpdate:modelValue":l[15]||(l[15]=l=>e.fileSplit=l),min:0,max:e.fsize},null,8,["modelValue","max"]),[[n.aG,e.shouldSplitFile]]),(0,o.bF)(b,{"bottom-slots":"",modelValue:e.fileSplit,"onUpdate:modelValue":l[16]||(l[16]=l=>e.fileSplit=l),modelModifiers:{number:!0},min:0,max:e.fsize,type:"number",maxlength:"255",class:"full-width"},{append:(0,o.k6)((()=>l[30]||(l[30]=[(0,o.eW)("Bytes")]))),hint:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)(e.trxSplits),1)])),_:1},8,["modelValue","max"]),(0,o.bF)(b,{"bottom-slots":"",modelValue:e.restToUpload,"onUpdate:modelValue":l[17]||(l[17]=l=>e.restToUpload=l),modelModifiers:{number:!0},min:0,max:e.fsize,type:"number",maxlength:"255",class:"full-width",label:"Rest to upload"},{append:(0,o.k6)((()=>l[31]||(l[31]=[(0,o.eW)("Bytes")]))),_:1},8,["modelValue","max"])],512),[[n.aG,e.shouldSplitFile]]),(0,o.bF)(w),(0,o.bF)(k,{class:"q-ma-md",label:e.isFirstUpload?"Upload":"Next upload",onClick:e.upload,loading:e.isUploading,color:"blue-grey","icon-right":"send"},null,8,["label","onClick","loading"]),(0,o.bF)(k,{class:"q-ma-md",label:"Finish upload",onClick:e.updateRAM,loading:e.isUpdatingRAM,color:"blue-grey","icon-right":"send"},null,8,["onClick","loading"]),l[36]||(l[36]=(0,o.Lk)("div",{class:"bg-grey q-pa-sm round"},[(0,o.eW)("⚠️The returned block numbers below may be wrong, please verify and correct them before each step. You can use third parties like "),(0,o.Lk)("a",{href:"https://bloks.io",target:"_blank"},"bloks.io"),(0,o.eW)(" to find the right block number of the referred transaction id.")],-1)),(0,o.Lk)("div",null,[l[32]||(l[32]=(0,o.eW)(" Reference ")),(0,o.Lk)("div",v,[(0,o.bF)(b,{class:"col-3 q-pr-xs",outlined:"",modelValue:e.rBlock,"onUpdate:modelValue":l[18]||(l[18]=l=>e.rBlock=l),modelModifiers:{number:!0},min:0,type:"number",label:"Block",maxlength:"20"},null,8,["modelValue"]),(0,o.bF)(b,{class:"col-9",outlined:"",modelValue:e.rTrx,"onUpdate:modelValue":l[19]||(l[19]=l=>e.rTrx=l),label:"Referred transaction id",maxlength:"255"},null,8,["modelValue"])]),l[33]||(l[33]=(0,o.eW)(" Old Reference ")),(0,o.Lk)("div",m,[(0,o.bF)(b,{class:"col-3 q-pr-xs",outlined:"",modelValue:e.orBlock,"onUpdate:modelValue":l[20]||(l[20]=l=>e.orBlock=l),modelModifiers:{number:!0},min:0,type:"number",label:"Block",maxlength:"20"},null,8,["modelValue"]),(0,o.bF)(b,{class:"col-9",outlined:"",modelValue:e.orTrx,"onUpdate:modelValue":l[21]||(l[21]=l=>e.orTrx=l),label:"Old referred transaction id",maxlength:"255"},null,8,["modelValue"])]),l[34]||(l[34]=(0,o.eW)(" First Reference ")),(0,o.Lk)("div",p,[(0,o.bF)(b,{class:"col-3 q-pr-xs",outlined:"",modelValue:e.fBlock,"onUpdate:modelValue":l[22]||(l[22]=l=>e.fBlock=l),modelModifiers:{number:!0},min:0,type:"number",label:"Block",maxlength:"20"},null,8,["modelValue"]),(0,o.bF)(b,{class:"col-9",outlined:"",modelValue:e.fTrx,"onUpdate:modelValue":l[23]||(l[23]=l=>e.fTrx=l),label:"First transaction id",maxlength:"255"},null,8,["modelValue"])])]),l[37]||(l[37]=(0,o.eW)(" Transactions ")),e.transactResults.length>0?((0,o.uX)(),(0,o.Wv)(K,{key:0,bordered:"",separator:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.transactResults,((e,l)=>((0,o.uX)(),(0,o.Wv)(A,{key:l},{default:(0,o.k6)((()=>[(0,o.bF)(T,null,{default:(0,o.k6)((()=>[(0,o.bF)(R,null,{default:(0,o.k6)((()=>[(0,o.eW)("Action: "+(0,t.v_)(e.processed.action_traces[0].act.name),1)])),_:2},1024),(0,o.bF)(R,{caption:""},{default:(0,o.k6)((()=>[(0,o.eW)("Block: "+(0,t.v_)(e.processed.block_num)+" TrxId: "+(0,t.v_)(e.transaction_id),1)])),_:2},1024),(0,o.bF)(R,null,{default:(0,o.k6)((()=>{var l,a;return[(0,o.eW)("NET: "+(0,t.v_)(e.processed.net_usage)+" ("+(0,t.v_)(null===(l=e.processed.receipt)||void 0===l?void 0:l.net_usage_words)+" words) | CPU: "+(0,t.v_)(null===(a=e.processed.receipt)||void 0===a?void 0:a.cpu_usage_us)+" | RAM: "+(0,t.v_)(e.processed.action_traces[0].account_ram_deltas.length>0&&void 0!=e.processed.action_traces[0].account_ram_deltas[0].delta?e.processed.action_traces[0].account_ram_deltas[0].delta:""),1)]})),_:2},1024),(0,o.bF)(R,{caption:""},{default:(0,o.k6)((()=>{var l;return[(0,o.eW)("Status: "+(0,t.v_)(null===(l=e.processed.receipt)||void 0===l?void 0:l.status)+" | Scheduled: "+(0,t.v_)(e.processed.scheduled),1)]})),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,o.Q3)("",!0)])])),_:1})}var g=a(20989),h=a(38734),b=a(99740),k=a(32334),y=a(13507),x=a(87881),V=a(39507),F=a(57387),w=a(75616),U=a(8522)["Buffer"],_=function(e,l,a,o){function t(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,n){function i(e){try{s(o.next(e))}catch(l){n(l)}}function r(e){try{s(o["throw"](e))}catch(l){n(l)}}function s(e){e.done?a(e.value):t(e.value).then(i,r)}s((o=o.apply(e,l||[])).next())}))};const R=(0,o.pM)({name:"page-file-upload",components:{originator:b["default"]},setup(){var e;const l=(0,V.V)(),a=(0,F.s9)({useScope:"global"}).t.bind(this),t=(0,o.EW)((()=>l.selectedConnect)),n=(0,o.EW)((()=>l.walletUser));let i=void 0!=n.value&&"string"==typeof n.value.name?n.value.name:"",r=void 0!=(null===(e=t.value)||void 0===e?void 0:e.chainParams)&&"string"==typeof t.value.chainParams.shortName?t.value.chainParams.shortName:"";const s=(0,h.KR)(),u=(0,h.KR)(""),d=(0,h.KR)(i),c=(0,o.EW)({get:()=>d.value,set:e=>{d.value=e.toLowerCase()}}),v=(0,h.KR)(r),m=(0,h.KR)(i),p=(0,o.EW)({get:()=>m.value,set:e=>{m.value=e.toLowerCase()}}),f=(0,h.KR)("index"),b=(0,o.EW)({get:()=>f.value,set:e=>{f.value=e.toLowerCase()}}),R=(0,h.KR)(""),T=(0,o.EW)({get:()=>R.value,set:e=>{R.value=A.value?e.toLowerCase():e}}),A=(0,h.KR)(!1),K=(0,h.KR)(""),S=(0,h.KR)(""),I=(0,h.KR)(""),B=(0,h.KR)(""),C=(0,h.KR)([]),W=(0,h.KR)(),E=(0,h.KR)(),q=(0,h.KR)(0),N=(0,h.KR)(0),P=(0,h.KR)(!1),O=(0,h.KR)(0),L=(0,h.KR)(0),M=(0,h.KR)(!1),$=(0,h.KR)(!1),Q=(0,h.KR)(),z=(0,h.KR)(!1),H=(0,h.KR)(""),X=(0,o.EW)((()=>{try{return JSON.stringify(H.value).length+S.value.length+I.value.length+(0,k.Uint8ArrayToString)(se(),"base64").length+B.value.length+K.value.length+32}catch(e){return 0}})),G=(0,h.KR)(!1),D=(0,o.EW)((()=>!P.value||O.value==N.value||L.value==N.value||void 0==L.value)),J=(0,h.KR)(),Y=(0,h.KR)(),j=(0,h.KR)(),Z=(0,h.KR)(""),ee=(0,h.KR)(""),le=(0,h.KR)(""),ae=(0,h.KR)([]),oe=(0,o.EW)((()=>{if("number"==typeof O.value&&O.value>0){const e=Math.ceil(N.value/O.value);return e<=1?`${e} Transaction`:`${e} Transactions`}return"∞"}));let te;function ne(e){const l=Math.floor(k.maxUInt16/100*e);return l>k.maxUInt16?"Values over 100% are not valid.":l<0?"Negative values are not valid.":l}O.value=N.value,L.value=N.value;const ie=(0,o.EW)((()=>{if(void 0==W.value)return 0;const e=ne(W.value);return"number"===typeof e?`Uint16 param: ${e} equal to ${e*(100/k.maxUInt16)} %`:e})),re=(0,o.EW)((()=>{if(A.value){const l=(0,k.CheckName)(T.value);if(!0!==l)return l.toString();try{return`Index key: ${(0,k.NameToUint64)(T.value)}`}catch(e){return"Can not parse name"}}return""}));function se(){let e=0;for(const o of C.value)e+=o.value.length;let l=new Uint8Array(e),a=0;for(const o of C.value)l.set(o.value,a),a+=o.value.length;return l}function ue(){var e,l,a,o;return _(this,void 0,void 0,(function*(){"function"===typeof window.FileReader?(te=yield null===(e=s.value)||void 0===e?void 0:e.arrayBuffer(),void 0==te&&console.log("No file content"),void 0!==(null===(l=s.value)||void 0===l?void 0:l.name)?I.value=s.value.name:I.value="",void 0!==(null===(a=s.value)||void 0===a?void 0:a.type)?K.value=s.value.type:K.value="",void 0!==(null===(o=s.value)||void 0===o?void 0:o.size)?N.value=s.value.size:N.value=0,ge()):console.log("The file API isn't supported on this browser.")}))}function de(e,o){var i,r;return _(this,void 0,void 0,(function*(){if(void 0!=n.value)if(void 0!=n.value.name&&n.value.name.length>0){const s=g.A.create({type:"ongoing",message:a("signTrx"),position:"top"}),u={isError:!1,notify:s},d=yield x.Connect.sendTrx(u,n.value,n.value.name,p.value,e,o,!1,n.value.permission);if(u.isError){const e=d;let a=`Error while signing transaction with ${null===(i=l.getWalletStyle)||void 0===i?void 0:i.text}`;console.log(a,e.message),g.A.create({type:"negative",message:a,caption:e.message,position:"top"})}else{const e=d;s({type:"ongoing",message:a("broadTrx")});const l=yield null===(r=t.value)||void 0===r?void 0:r.sendTransaction(u,e.transaction);if(void 0==l)return console.log("No available endpoint"),s({type:"negative",message:a("noEndpoint")}),!1;if(!u.isError)return console.log("Transaction successful",l),s({type:"positive",message:a("trxSuccess")}),l;{const e=l;console.log("Error while broadcasting",e),s({type:"negative",message:e.message})}}}else g.A.create({message:"Please set a user name for this wallet first.",position:"top"});else g.A.create({message:"Please select a wallet frist.",position:"top"}),l.showWalletDialog();return!1}))}function ce(){var e,l,a,o,n;let i;if(""==T.value.trim())throw"Key is not defined";if(A.value)try{i=(0,k.NameToUint64)(T.value)}catch(u){throw"Error while converting name to uint64"}else i=BigInt(T.value);const r=Q.value;let s=v.value.valueOf();if(0==s.length)throw"No chain.";if(s==(null===(l=null===(e=t.value)||void 0===e?void 0:e.chainParams.shortName)||void 0===l?void 0:l.valueOf())||s==(null===(o=null===(a=t.value)||void 0===a?void 0:a.chainParams.name)||void 0===o?void 0:o.valueOf())||s==(null===(n=t.value)||void 0===n?void 0:n.chainParams.chainId.valueOf()))return{uIntKey:i,code:H.value,encoding:r};throw`Please connect to ${s}.`}function ve(){if(void 0===E.value)throw"No hash defined";const e=(0,k.Uint8ArrayToString)(E.value,"base64");console.log("Upload hash would be: ",e);const l=se(),a=(0,k.Uint8ArrayToString)(l,"base64");let o;if(fe(l),void 0==W.value)o=0;else if(o=ne(W.value),"number"!==typeof o)throw"Resale fee: "+o;const t=B.value;return{strHash:e,reSaleFeeInt:o,originatorsParam:l,strOriginators:a,attributes:t}}function me(){return _(this,void 0,void 0,(function*(){if(!0===z.value)return;let e;z.value=!0;try{e=ce()}catch(i){const e="Error while getting upload params.";return console.log(e,i),g.A.create({type:"negative",message:e,caption:i.toString(),position:"top"}),void(z.value=!1)}let l,a=!1,o=P.value,t=0,n="";if(!0===o&&N.value!=O.value){if(0==L.value)return g.A.create({type:"warning",message:"Whole file is already on blockchain.",caption:'Click "Finish upload" to complete the entry in the contract table.',position:"top"}),void(z.value=!1);const l=N.value-L.value,o=l+O.value;L.value>O.value?(n=e.code.slice(l,o),console.log("Upload",`from ${l} to ${o}.`,n.length),t=e.code.length-o):(n=e.code.slice(l),console.log("Upload end",`from ${l} to end.`,n.length),a=!0)}else n=e.code,console.log("Upload whole file at ones.");if(D.value){let a;try{a=ve()}catch(i){return console.log("Error while getting upload params for first transaction.",i),void(z.value=!1)}const o={scope:c.value,key:e.uIntKey,fname:I.value,type:K.value,format:S.value,fsize:N.value,attri:a.attributes,originators:a.strOriginators,resalefee:a.reSaleFeeInt,hash:a.strHash,code:n};if(l=yield de("uploadbegin",o),"boolean"==typeof l)return console.log("Upload error"),void(z.value=!1);Z.value=l.transaction_id,J.value=l.processed.block_num,le.value=l.transaction_id,j.value=l.processed.block_num}else{if(void 0==J.value||void 0==Z.value)return console.log("Upload error: Missing values of last transaction."),void(z.value=!1);let o;a?(void 0!=j.value&&void 0!=ee.value||console.log("Upload error: Missing values of first transaction."),o=void 0==Y.value||void 0==ee.value||64!=ee.value.trim().length?[{Block:J.value,TrxId:Z.value},{Block:j.value,TrxId:le.value}]:[{Block:J.value,TrxId:Z.value},{Block:Y.value,TrxId:ee.value},{Block:j.value,TrxId:le.value}]):o=void 0==Y.value||void 0==ee.value||64!=ee.value.trim().length?[{Block:J.value,TrxId:Z.value}]:[{Block:J.value,TrxId:Z.value},{Block:Y.value,TrxId:ee.value}];const t={scope:c.value,key:e.uIntKey,refs:o,code:n};if(l=yield de("uploadnext",t),"boolean"==typeof l)return console.log("Upload error"),void(z.value=!1);ee.value=Z.value,Y.value=J.value,Z.value=l.transaction_id,J.value=l.processed.block_num}console.log("Result of broadcasting",l),o&&(L.value=t),ae.value.unshift(l),z.value=!1}))}function pe(){return _(this,void 0,void 0,(function*(){if(G.value)return;let e,l;if(G.value=!0,console.log("Update Reference"),A.value)try{e=(0,k.NameToUint64)(T.value)}catch(t){return console.log("Error while converting name to uint64"),void(z.value=!1)}else e=BigInt(T.value);console.log("uIntKey",e),l=void 0==Y.value||void 0==ee.value||64!=ee.value.trim().length?[{Block:J.value,TrxId:Z.value}]:[{Block:J.value,TrxId:Z.value},{Block:Y.value,TrxId:ee.value}];const a={scope:c.value,key:e,refs:l},o=yield de("updateref",a);if("boolean"==typeof o)return console.log("Finish upload error."),void(G.value=!1);ee.value="",Y.value=void 0,Z.value="",J.value=void 0,le.value="",j.value=void 0,ae.value.unshift(o),G.value=!1}))}function fe(e){if(0==e.length)return"No parameter is defined";const l=new y.Serialize.SerialBuffer;l.push(...e);try{while(l.length!=l.readPos){let e,a,o=l.get();switch(console.log("prefix",o),o&k.OriginatorPrefix.SharesNibble){case k.OriginatorPrefix.NoShare:e=0;break;case k.OriginatorPrefix.uint8:e=l.get();break;case k.OriginatorPrefix.uint16:e=l.getUint16();break;case k.OriginatorPrefix.uint32:e=l.getUint32();break;default:return"Prefix is not defined."}switch(console.log("shares",e),o&k.OriginatorPrefix.KeyNibble){case k.OriginatorPrefix.ByteArray:a=l.getBytes();break;case k.OriginatorPrefix.String:a=l.getString();break;case k.OriginatorPrefix.Name:a=l.getName();break;case k.OriginatorPrefix.PublicKey:a=l.getPublicKey();break;default:return"Prefix is not defined."}console.log("oriKey",a)}return""}catch(a){const e=`Error: Can not read originator parameter. Remaining bytes: ${l.readPos} of ${l.length}`;return console.log(e,a),e}}function ge(){let e,l;if($.value&&(e="base64",Q.value=e),l=M.value?"gzip":"",void 0!==te)if(E.value=(0,k.CalcHash)(U.from(te),"SHA3_256"),M.value)try{const l=w.Ay.gzip(U.from(te)),a=new Uint8Array(l);H.value=(0,k.Uint8ArrayToString)(a,e)}catch(a){console.log("Error",a),E.value=void 0,H.value=""}else H.value=(0,k.Uint8ArrayToString)(new Uint8Array(te),e);else E.value=void 0,H.value="";N.value=H.value.length,S.value=`${l}${l.length>0&&void 0!=e?"/":""}${void 0!=e?e:""}`,O.value=N.value,L.value=N.value}const he=(0,o.EW)((()=>void 0!==E.value?`0x${(0,k.GetHexStringFromArray)(E.value)}`:""));function be(){C.value.push({value:new Uint8Array(0),id:C.value.length})}function ke(e){C.value.splice(e,1)}return{oriFile:s,link:u,chain:v,scope:c,contract:p,key:T,keyIsName:A,keyHint:re,fname:I,type:K,format:S,fsize:N,rawFSize:q,attri:B,resalefee:W,reSaleFeeHint:ie,hash:E,uploadCode:H,table:b,originators:C,mhash:he,shouldcompress:M,netEstimation:X,shouldBase64:$,upload:me,isUploading:z,setFile:ue,CompressEncodeAndHash:ge,addOriginator:be,subOriginator:ke,shouldSplitFile:P,fileSplit:O,restToUpload:L,updateRAM:pe,isUpdatingRAM:G,isFirstUpload:D,trxSplits:oe,rBlock:J,orBlock:Y,fBlock:j,rTrx:Z,orTrx:ee,fTrx:le,transactResults:ae}}});var T=a(12807),A=a(77716),K=a(67837),S=a(56384),I=a(77599),B=a(50492),C=a(66908),W=a(10386),E=a(80460),q=a(1444),N=a(53999),P=a(90124),O=a(25173),L=a(13796),M=a(98582),$=a.n(M);const Q=(0,T.A)(R,[["render",f],["__scopeId","data-v-b1d2fc3e"]]),z=Q;$()(R,"components",{QPage:A.A,QInput:K.A,QBtn:S.A,QFile:I.A,QIcon:B.A,QToggle:C.A,QSeparator:W.A,QCheckbox:E.A,QSlider:q.A,QList:N.A,QItem:P.A,QItemSection:O.A,QItemLabel:L.A})}}]);