"use strict";(globalThis["webpackChunksavactapp"]=globalThis["webpackChunksavactapp"]||[]).push([[723],{23723:(e,a,l)=>{l.r(a),l.d(a,{default:()=>K});var o=l(61758);const t={class:"row"},n={class:"q-gutter-sm"};function i(e,a,l,i,u,r){const d=(0,o.g2)("q-input"),s=(0,o.g2)("q-card"),c=(0,o.g2)("q-btn"),m=(0,o.g2)("q-radio"),p=(0,o.g2)("q-icon"),v=(0,o.g2)("q-file"),b=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(b,{class:"items-center justify-evenly"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{class:"q-ma-md q-pa-md cardMaxWidth",flat:"",bordered:""},{default:(0,o.k6)((()=>[(0,o.bF)(d,{label:"Wallet permission",modelValue:e.wallet_permission,"onUpdate:modelValue":a[0]||(a[0]=a=>e.wallet_permission=a)},null,8,["modelValue"])])),_:1}),(0,o.bF)(s,{class:"q-ma-md q-pa-md cardMaxWidth",flat:"",bordered:""},{default:(0,o.k6)((()=>{var l;return[a[15]||(a[15]=(0,o.Lk)("div",{class:"text-h5"},"Code Permission",-1)),(0,o.bF)(d,{label:"Account name",disable:"","model-value":null===(l=e.walletUser)||void 0===l?void 0:l.name},null,8,["model-value"]),(0,o.bF)(d,{label:"Public key",modelValue:e.pub_key,"onUpdate:modelValue":a[1]||(a[1]=a=>e.pub_key=a)},null,8,["modelValue"]),(0,o.bF)(c,{"icon-right":"send",color:"orange",class:"q-ma-md",label:"Set public key and code permission",onClick:e.setCodePermission},null,8,["onClick"])]})),_:1}),(0,o.bF)(s,{class:"q-ma-md q-pa-md cardMaxWidth",flat:"",bordered:""},{default:(0,o.k6)((()=>[a[16]||(a[16]=(0,o.Lk)("div",{class:"text-h5"},"Key Converter",-1)),(0,o.bF)(d,{label:"Private EOSIO key",modelValue:e.eosio_pri_key,"onUpdate:modelValue":a[2]||(a[2]=a=>e.eosio_pri_key=a)},{after:(0,o.k6)((()=>[(0,o.bF)(c,{round:"",dense:"",flat:"",icon:"send",onClick:e.generate_keys_from_eosio},null,8,["onClick"])])),_:1},8,["modelValue"]),(0,o.bF)(d,{label:"Public EOSIO key",disable:"","model-value":e.eosio_pub_key},null,8,["model-value"]),(0,o.bF)(d,{label:"Private ETH key",modelValue:e.eth_pri_key,"onUpdate:modelValue":a[3]||(a[3]=a=>e.eth_pri_key=a)},{after:(0,o.k6)((()=>[(0,o.bF)(c,{round:"",dense:"",flat:"",icon:"send",onClick:e.generate_keys_from_eth},null,8,["onClick"])])),_:1},8,["modelValue"]),(0,o.bF)(d,{label:"Public ETH key",disable:"","model-value":e.eth_pub_key},null,8,["model-value"]),(0,o.bF)(d,{label:"ETH address",disable:"","model-value":e.eth_address},null,8,["model-value"])])),_:1}),(0,o.bF)(s,{class:"q-ma-md q-pa-md cardMaxWidth",flat:"",bordered:""},{default:(0,o.k6)((()=>[a[17]||(a[17]=(0,o.Lk)("div",{class:"text-h5"},"Power Up",-1)),(0,o.Lk)("div",t,[(0,o.bF)(d,{class:"col q-pr-md",label:"CPU",modelValue:e.cpu,"onUpdate:modelValue":a[4]||(a[4]=a=>e.cpu=a),type:"number"},null,8,["modelValue"]),(0,o.bF)(d,{class:"col q-pl-md",label:"NET",modelValue:e.net,"onUpdate:modelValue":a[5]||(a[5]=a=>e.net=a),type:"number"},null,8,["modelValue"])]),(0,o.bF)(d,{label:"Max payment",modelValue:e.maxPayment,"onUpdate:modelValue":a[6]||(a[6]=a=>e.maxPayment=a)},null,8,["modelValue"]),(0,o.bF)(d,{label:"Beneficiary",modelValue:e.beneficiary,"onUpdate:modelValue":a[7]||(a[7]=a=>e.beneficiary=a)},{after:(0,o.k6)((()=>[(0,o.bF)(c,{round:"",dense:"",flat:"",icon:"send",onClick:e.powerup},null,8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(s,{class:"q-ma-md q-pa-md cardMaxWidth",flat:"",bordered:""},{default:(0,o.k6)((()=>[a[19]||(a[19]=(0,o.Lk)("div",{class:"text-h5"},"Buy RAM",-1)),(0,o.Lk)("div",n,[(0,o.bF)(m,{modelValue:e.buyram_option,"onUpdate:modelValue":a[8]||(a[8]=a=>e.buyram_option=a),val:"token",label:"By Token"},null,8,["modelValue"]),(0,o.bF)(m,{modelValue:e.buyram_option,"onUpdate:modelValue":a[9]||(a[9]=a=>e.buyram_option=a),val:"bytes",label:"By Bytes"},null,8,["modelValue"])]),"token"==e.buyram_option?((0,o.uX)(),(0,o.Wv)(d,{key:0,label:"Tokens",modelValue:e.buyramToken,"onUpdate:modelValue":a[10]||(a[10]=a=>e.buyramToken=a)},null,8,["modelValue"])):((0,o.uX)(),(0,o.Wv)(d,{key:1,label:"Bytes",modelValue:e.buyramBytes,"onUpdate:modelValue":a[11]||(a[11]=a=>e.buyramBytes=a)},{append:(0,o.k6)((()=>a[18]||(a[18]=[(0,o.eW)("Bytes")]))),_:1},8,["modelValue"])),(0,o.bF)(d,{label:"Beneficiary",modelValue:e.beneficiary,"onUpdate:modelValue":a[12]||(a[12]=a=>e.beneficiary=a)},{after:(0,o.k6)((()=>[(0,o.bF)(c,{round:"",dense:"",flat:"",icon:"send",onClick:e.buyRam},null,8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(s,{class:"q-ma-md q-pa-md cardMaxWidth",flat:"",bordered:""},{default:(0,o.k6)((()=>[(0,o.bF)(v,{clearable:"",color:"orange",modelValue:e.wasmFile,"onUpdate:modelValue":a[13]||(a[13]=a=>e.wasmFile=a),standout:"","bottom-slots":"",label:"Select wasm file",counter:""},{prepend:(0,o.k6)((()=>[(0,o.bF)(p,{name:"attach_file"})])),hint:(0,o.k6)((()=>a[20]||(a[20]=[(0,o.eW)(" Field hint ")]))),_:1},8,["modelValue"]),(0,o.bF)(v,{clearable:"",color:"orange",modelValue:e.abiFile,"onUpdate:modelValue":a[14]||(a[14]=a=>e.abiFile=a),standout:"","bottom-slots":"",label:"Select abi file",counter:""},{prepend:(0,o.k6)((()=>[(0,o.bF)(p,{name:"attach_file"})])),hint:(0,o.k6)((()=>a[21]||(a[21]=[(0,o.eW)(" Field hint ")]))),_:1},8,["modelValue"])])),_:1})])),_:1})}var u=l(87881),r=l(72092),d=l(38734),s=l(48960),c=l(20989),m=l(80302),p=l(13507),v=l(39507),b=l(57387),y=l(54343),k=l(8522)["Buffer"],f=function(e,a,l,o){function t(e){return e instanceof l?e:new l((function(a){a(e)}))}return new(l||(l=Promise))((function(l,n){function i(e){try{r(o.next(e))}catch(a){n(a)}}function u(e){try{r(o["throw"](e))}catch(a){n(a)}}function r(e){e.done?l(e.value):t(e.value).then(i,u)}r((o=o.apply(e,a||[])).next())}))};const _=(0,o.pM)({name:"page-advanced-eosio",components:{},setup(){const e=(0,v.V)(),a=(0,o.EW)((()=>e.selectedConnect)),l=(0,o.EW)((()=>e.walletUser)),t=(0,b.s9)({useScope:"global"}).t.bind(this),n=(0,d.KR)(""),i=(0,d.KR)("active"),_=(0,d.KR)(""),h=(0,d.KR)(""),V=(0,d.KR)(""),g=(0,d.KR)(""),F=(0,d.KR)(""),w=(0,d.KR)(""),U=(0,d.KR)(0),q=(0,d.KR)(0),T=(0,d.KR)("1.0000 EOS"),x=(0,d.KR)("token"),P=(0,d.KR)("1.0000 EOS"),C=(0,d.KR)("250");function K(e){return f(this,void 0,void 0,(function*(){if(!l.value||!a.value)return;const o=c.A.create({type:"ongoing",message:t("signTrx"),position:"top"}),n={isError:!1,notify:o},i=yield u.Connect.trySigning(n,l.value,e,{broadcast:!1});return!!(0,r.trxSigningErrorHandling)(n,i,t)&&(!!(yield(0,r.broadcastTrx)(n,a.value,i,t))&&void 0)}))}function R(){return f(this,void 0,void 0,(function*(){if(!a.value||!l.value)return;const e=l.value.name;if(!e)return;if(n.value=n.value.trim(),!n.value)return;const o={actions:[{account:"eosio",name:"updateauth",authorization:[{actor:e,permission:i.value||"active"}],data:{account:e,permission:"active",parent:"owner",auth:{threshold:1,keys:[{key:n.value,weight:1}],accounts:[{permission:{actor:e,permission:"eosio.code"},weight:1}],waits:[]}}}]};yield K(o)}))}function A(){let e=h.value;s.E.isValidPrivate(e)||c.A.create({type:"negative",message:"Invalid private eosio key",caption:V.value,position:"top"}),_.value=s.E.privateToPublic(e);let a=k.from(p.Numeric.stringToPrivateKey(e).data);V.value=(0,m.arrayToHex)(a).toLowerCase(),F.value=y.ethUtil.privateToAddress(V.value),g.value=y.ethUtil.privateToPublic(V.value)}function E(){let e=k.from(V.value,"hex");if(console.log("buffer",e),!y.ethUtil.isValidPrivate(V.value))return void c.A.create({type:"negative",message:"Invalid private eth key",caption:V.value,position:"top"});F.value=y.ethUtil.privateToAddress(V.value),g.value=y.ethUtil.privateToPublic(V.value);let a={type:p.Numeric.KeyType.k1,data:e};h.value=p.Numeric.privateKeyToLegacyString(a),_.value=s.E.privateToPublic(h.value)}function W(){return f(this,void 0,void 0,(function*(){if(!l.value||!l.value.name)return;const e={actions:[{account:"eosio",name:"powerup",authorization:[{actor:l.value.name,permission:i.value||"active"}],data:{cpu_frac:U.value,net_frac:q.value,days:1,max_payment:T.value,payer:l.value.name,receiver:w.value}}]};yield K(e)}))}function B(){return f(this,void 0,void 0,(function*(){if(!l.value||!l.value.name)return;let e;e="token"==x.value?{account:"eosio",name:"buyram",authorization:[{actor:l.value.name,permission:i.value||"active"}],data:{quant:P.value,payer:l.value.name,receiver:w.value}}:{account:"eosio",name:"buyrambytes",authorization:[{actor:l.value.name,permission:i.value||"active"}],data:{bytes:C.value,payer:l.value.name,receiver:w.value}},yield K({actions:[e]})}))}const S=(0,d.KR)(),M=(0,d.KR)();return{wallet_permission:i,walletUser:l,pub_key:n,setCodePermission:R,generate_keys_from_eosio:A,generate_keys_from_eth:E,eosio_pub_key:_,eosio_pri_key:h,eth_pri_key:V,eth_pub_key:g,eth_address:F,beneficiary:w,cpu:U,net:q,maxPayment:T,powerup:W,buyram_option:x,buyramToken:P,buyramBytes:C,buyRam:B,wasmFile:S,abiFile:M}}});var h=l(12807),V=l(77716),g=l(23316),F=l(67837),w=l(56384),U=l(97878),q=l(77599),T=l(50492),x=l(98582),P=l.n(x);const C=(0,h.A)(_,[["render",i]]),K=C;P()(_,"components",{QPage:V.A,QCard:g.A,QInput:F.A,QBtn:w.A,QRadio:U.A,QFile:q.A,QIcon:T.A})}}]);